webpackJsonp([1],{"+hXE":function(t,e){},"34+y":function(t,e){},"9EEb":function(t,e){},Cz6C:function(t,e){},Lrbi:function(t,e){},MUQL:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("lrMw");var n=a("7YS2"),s=a.n(n),i=(a("Cz6C"),a("dU8H")),r=a.n(i),o=(a("+hXE"),a("fUV+")),u=a.n(o),l=(a("y+mr"),a("3JdW")),c=a.n(l),d=(a("q/am"),a("4VPn")),m=a.n(d),f=(a("f1Vh"),a("ZQVe")),p=a.n(f),v=(a("MUQL"),a("236b")),b=a.n(v),h=(a("eTQP"),a("dpOZ")),_=a.n(h),k=(a("Lrbi"),a("aMxQ")),C=a.n(k),g=(a("UIRh"),a("uOA4")),y=a.n(g),I=(a("jayP"),a("QKkm")),A=a.n(I),x=a("7+uW"),U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("keep-alive",[this.$route.meta.keepAlive?e("router-view"):this._e()],1),this._v(" "),this.$route.meta.keepAlive?this._e():e("router-view")],1)},staticRenderFns:[]};var L=a("VU/8")({},U,!1,function(t){a("hMV4")},"data-v-ba66be58",null).exports,V=a("/ocq"),w=(a("OgVB"),a("/Lyv")),q=a.n(w),B=a("Dd8w"),O=a.n(B),T=a("NYxO"),E={data:function(){return{popupVisible:!1,popupValue:"",popupName:"",selectTab:"1",borderLeft:"border-left: 2px dotted green;",NONEborderLeft:"border-left:none;",fileURL:"http://27.17.37.154:8000/taskbill/queryFile?fileId="}},computed:O()({},Object(T.c)(["listHead","listButtons","commitUser","approveUsers","messageAttachmentListValue","attachstructlist"])),mounted:function(){var t={userId:this.$route.query.userId,taskId:this.$route.query.taskId};this.queryJsonBill(t)},methods:O()({},Object(T.b)(["queryJsonBill"]),{doAction:function(t,e){var a=this,n="";"doAgree"===t&&(n=e),q.a.prompt("请输入批语",e,{inputValue:n}).then(function(e){var n=e.value,s=(e.action,{userId:a.$route.query.userId,taskId:a.$route.query.taskId,actionCode:t,note:n+"--来自 new NC mobile"});a.$store.dispatch("doAction",s)})}})},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"um-win"},[a("div",{staticClass:"um-content"},[a("mt-navbar",{model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},[a("mt-tab-item",{attrs:{id:"1"}},[t._v("单据信息")]),t._v(" "),a("mt-tab-item",{attrs:{id:"2"}},[t._v("审批历史")]),t._v(" "),a("mt-tab-item",{attrs:{id:"3"}},[t._v("附件")])],1),t._v(" "),a("div",{staticClass:"tab-container"}),t._v(" "),a("mt-tab-container",{model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},[a("mt-tab-container-item",{attrs:{id:"1"}},[a("ul",{staticClass:"um-list"},t._l(t.listHead,function(e,n){return a("li",[a("div",{staticClass:"um-list-item"},[a("div",{staticClass:"um-list-item-inner",staticStyle:{height:"50px"}},[a("div",{staticClass:"um-list-item-left pl15"},[t._v("\n                  "+t._s(e.itemName)+"\n                ")]),t._v(" "),a("div",{staticClass:"um-list-item-right"},[t._v("\n                  "+t._s(e.itemValue)+"\n                ")])])])])}))]),t._v(" "),a("mt-tab-container-item",{attrs:{id:"2"}},[a("div",{staticClass:"um-list"},[a("div",{staticClass:"um-process"},[a("a",{staticClass:"um-list-item",style:t.borderLeft,attrs:{href:"#"}},[a("div",{staticClass:"um-list-item-inner"},[a("div",{staticClass:"um-list-item-body ml15"},[a("p",{staticClass:"f14"},[t._v("提交人："),a("span",{staticClass:"fb"},[t._v(t._s(t.commitUser.makername))])]),t._v(" "),a("p",{staticClass:"um-gray um-text-overflow2 f12 mt5"},[t._v(t._s(t.commitUser.submitdate))])])])])]),t._v(" "),t._l(t.approveUsers,function(e,n){return a("div",{key:n,staticClass:"um-process"},[a("a",{staticClass:"um-list-item",style:n===t.approveUsers.length-1?t.NONEborderLeft:t.borderLeft,attrs:{href:"#"}},[a("div",{staticClass:"um-list-item-inner"},[a("div",{staticClass:"um-list-item-body ml15"},[a("p",{staticClass:"f14"},[t._v("审批人："),a("span",{staticClass:"fb"},[t._v(t._s(e.handlername))]),a("span",{staticClass:"ml10 um-green"},[t._v(t._s(e.action))])]),t._v(" "),a("p",{staticClass:"f14 mt5"},[t._v("意    见："),a("span",{staticClass:"um-blue"},[t._v(t._s(e.note))])]),t._v(" "),a("p",{staticClass:"um-gray um-text-overflow2 f12 mt5"},[t._v(t._s(e.handledate))])])])])])})],2)]),t._v(" "),a("mt-tab-container-item",{attrs:{id:"3"}},t._l(t.attachstructlist,function(e,n){return a("div",{key:n},[a("span",{staticStyle:{"font-size":"16px",color:"dodgerblue","margin-left":"10px"}},[t._v(t._s(e.attachmentgroupname))]),t._v(" "),a("p",{staticStyle:{height:"10px"}}),t._v(" "),t._l(e.attachmentgrouplist,function(e,n){return a("mt-cell",{attrs:{title:e.filename,label:e.filesize,"is-link":!0,to:t.fileURL+e.fileid,target:"_blank"}})})],2)}))],1)],1),t._v(" "),a("div",{staticClass:"um-footer"},[a("div",{staticClass:"btn-group btn-group-justify"},t._l(t.listButtons,function(e,n){return a("button",{key:e.code,staticClass:"btn um-btn-info",attrs:{type:"button"},on:{click:function(a){t.doAction(e.code,e.name)}}},[t._v(t._s(e.name)+"\n      ")])}))])])},staticRenderFns:[]};var M=a("VU/8")(E,N,!1,function(t){a("z1uN")},"data-v-53ded995",null).exports;x.default.use(V.a);var j=new V.a({routes:[{name:"billCard",path:"/billCard",component:M,meta:{keepAlive:!0}},{path:"/",redirect:"/billCard",meta:{keepAlive:!0}}]}),S=(a("34+y"),a("X+yh")),$=a.n(S),D=a("Xxa5"),H=a.n(D),Q=(a("qONS"),a("UQTY")),R=a.n(Q),Y=a("exGp"),z=a.n(Y),P=a("fZjL"),J=a.n(P),Z=a("//Fk"),F=a.n(Z),G=a("mtWM"),X=a.n(G),W=a("mw3O"),K=a.n(W);function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new F.a(function(n,s){var i=void 0;if("GET"===a){var r="";J()(e).forEach(function(t){r+=t+"="+e[t]+"&"}),""!==r&&(r=r.substring(0,r.lastIndexOf("&")),t=t+"?"+r),i=X.a.get(t)}else{var o=K.a.stringify(e);i=X.a.post(t,o)}i.then(function(t){n(t.data)}).catch(function(t){s(t)})})}var et,at="http://27.17.37.154:8000",nt=function(t){return tt(at+"/taskbill/jsonbill?userId="+t.userId+"&taskId="+t.taskId)},st=function(t){return tt(at+"/taskbill/"+t.actionCode+"?userId="+t.userId+"&taskId="+t.taskId+"&note="+t.note)},it=function(t){return tt(at+"/taskbill/getTaskActions?taskId="+t.taskId)},rt=function(t){return tt(at+"/taskbill/getApproveDetail?userId="+t.userId+"&taskId="+t.taskId)},ot={queryJsonBill:function(t,e){var a=this,n=t.commit;return z()(H.a.mark(function t(){var s,i,r,o,u;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return R.a.open(),t.next=3,nt(e);case 3:s=t.sent,i=s.taskBill,r=s.taskAction,o=s.approveDetail,u=s.messageAttachmentList,n("update_taskbill",{resultData:i}),n("update_taskbutton",{resultButton:r}),n("update_commituser",{resultApproveDetail:o}),n("update_messageattachmentlist",{resultMessageAttachmentList:u}),n("update_defalut",{params:e}),R.a.close();case 14:case"end":return t.stop()}},t,a)}))()},doAction:function(t,e){var a=this,n=t.commit;return z()(H.a.mark(function t(){var s,i,r;return H.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return R.a.open(),t.next=3,st(e);case 3:return s=t.sent,$()(s.des),t.next=7,it(e);case 7:return i=t.sent,t.next=10,rt(e);case 10:r=t.sent,n("update_taskbutton",{resultButton:i}),n("update_commituser",{resultApproveDetail:r}),R.a.close();case 14:case"end":return t.stop()}},t,a)}))()}},ut=a("bOdI"),lt=a.n(ut),ct=(et={},lt()(et,"update_taskbill",function(t,e){var a=e.resultData;t.taskbillResult=a,t.listHead=a.taskbill.listHead.reverse()}),lt()(et,"update_taskbutton",function(t,e){var a=e.resultButton;t.listButtons=a.listActions}),lt()(et,"update_commituser",function(t,e){var a=e.resultApproveDetail,n={makername:a.makername,psnid:a.psnid,submitdate:a.submitdate.substring(0,10)};if(t.commitUser=n,a.approvehistorylinelist){var s=a.approvehistorylinelist.map(function(t){return{action:t.action,approvedid:t.approvedid,handledate:t.handledate.substring(0,10),handlername:t.handlername,note:t.note,psnid:t.psnid}});t.approveUsers=s}}),lt()(et,"update_messageattachmentlist",function(t,e){var a=e.resultMessageAttachmentList;if("0"===a.flag){var n=a.count,s=a.attachstructlist;s[0].attachmentgrouplist.forEach(function(t){var e=t.fileid.split("&#%");t.fileid=e.join(",")}),t.messageAttachmentListValue=n,t.attachstructlist=s}}),lt()(et,"update_defalut",function(t,e){var a=e.params;t.userId=a.userId,t.taskId=a.taskId}),et);x.default.use(T.a);var dt=new T.a.Store({state:{taskbillResult:{},listHead:[],listButtons:[],commitUser:{},approveUsers:[],messageAttachmentListValue:"",attachstructlist:[],userId:"",taskId:""},getters:{},actions:ot,mutations:ct});a("oYYC"),a("VaBq"),a("hZn+"),a("d8/S"),a("9EEb");x.default.component(A.a.name,A.a),x.default.component(y.a.name,y.a),x.default.component(C.a.name,C.a),x.default.component(_.a.name,_.a),x.default.component(b.a.name,b.a),x.default.component(p.a.name,p.a),x.default.component(m.a.name,m.a),x.default.component(c.a.name,c.a),x.default.component(u.a.name,u.a),x.default.component(r.a.name,r.a),x.default.component(s.a.name,s.a),new x.default({el:"#app",render:function(t){return t(L)},router:j,store:dt})},OgVB:function(t,e){},UIRh:function(t,e){},ULTG:function(t,e){},VaBq:function(t,e){},"d8/S":function(t,e){},eTQP:function(t,e){},f1Vh:function(t,e){},hMV4:function(t,e){},"hZn+":function(t,e){},jayP:function(t,e){},joTY:function(t,e){},lrMw:function(t,e){},oYYC:function(t,e){},"q/am":function(t,e){},qONS:function(t,e){},"y+mr":function(t,e){},z1uN:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3be27c9f4f1ea74c482d.js.map